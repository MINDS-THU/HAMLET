## 使用说明（帮助）

本界面用于配置并对话式使用“多智能体 + 工具”执行文件处理、知识检索与整理等任务。通过图形化界面，用户可以：
- 配置 1 个“主智能体” + 若干“子智能体”(Sub‑Agents)，主智能体可在需要时呼叫子智能体完成特定子任务。
- 为每个智能体挑选需要的“工具”(Tools)，如：文件读写、代码修改、网页浏览、语义检索、知识库维护等。
- 针对每个访问者自动创建隔离的“工作目录(working directory)”，保障互不干扰。

### 1. 功能概览
- 主智能体可调用配置好的子智能体协作。
- 通过勾选工具获得：文件读写、代码/文本查看与编辑、知识库检索与维护、网页文本浏览等能力。
- 每个用户每次会话使用临时的独立工作目录，用后即删除，如有需要请打包保存工作目录文件；知识库为所有用户全局共享。
- 支持语义检索与关键词检索；结果可继续被总结、归纳。

### 2. 核心概念
| 名称 | 说明 | 备注 |
|------|------|------|
| 主智能体 / 子智能体 | 拥有各自 Prompt 与工具集合的执行单元 | 主智能体可按需调用子智能体 |
| 工具 (Tool) | 供智能体调用的具体操作 | 勾选启用；未勾选不可用 |
| 工作目录 | 当前浏览器会话隔离文件区 | 互不干扰 |

### 2.1 嵌套 / 递归智能体构建说明
系统支持“嵌套智能体”结构：一个智能体可以把已经构建完成的其他智能体，作为自己的“可调用子智能体”。这使复杂任务被拆解并分派给更专门的子智能体。

使用要点：
1. 先单独构建底层子智能体（例如：代码分析、数据清理、文档撰写），确保它们的 System Prompt 与所选工具精准、聚焦。
2. 在构建更高层（父）智能体时，于“子智能体区”选择前面已构建完成的智能体，将其加入。
3. 父智能体的 System Prompt 中需明确：
	 - 任务拆解策略（什么时候调用哪个子智能体）
	 - 子智能体的名称与职责简述（可直接引用其“描述”字段）
4. 子智能体“描述”字段非常重要：内容会传递给父智能体，作为它理解与选择调用该子智能体的依据；请写得简洁、功能导向、避免泛泛而谈。
5. 修改某个子智能体后，如希望父智能体使用最新版本，请重新触发父智能体的“构建”（父智能体内部会刷新子智能体引用）。
6. 避免过深层级（建议不超过 2~3 层），否则上下文开销与决策复杂度增加。

示例结构：
```
顶层：项目统筹智能体（负责拆解 → 调用下列子智能体）
	├─ 代码理解智能体（工具：文件读取 / 语义检索）
	├─ 数据整理智能体（工具：文件创建 / 修改）
	└─ 文档撰写智能体（工具：写入 / 追加 / 语义检索）
```
父智能体 Prompt 示例片段：
“当需要阅读或总结代码时调用 ‘代码理解智能体’；需要生成或修订文档时调用 ‘文档撰写智能体’；需要对原始数据进行格式化时调用 ‘数据整理智能体’。若当前子任务已完成，整合结果并返回最终答复。”

### 3. 界面结构
1. 配置区：名称 / System Prompt / 类型 / 描述
2. 子智能体区：添加、编辑、删除子智能体及其工具
3. 工具分组：文件 / 知识库维护与检索 / 浏览搜索 / 其他
4. 操作按钮：保存配置、载入配置、构建
5. 对话区：输入指令；执行过程显示工具调用与结果
6. 下载：打包当前会话工作目录

### 4. 常用流程
| 目标 | 典型操作 |
|------|----------|
| 创建并编辑文件 | 勾选文件工具 → 让其创建 / 查看 / 修改文件 |
| 汇总已有资料 | 勾选语义或关键词检索 → 询问并要求总结 |
| 结构化写作 | 主智能体拆解 → 子智能体分别分析 / 撰写 |
| 导出成果 | 检查文件 → 点击打包下载 |

### 5. 权限与隔离
| 范围 | 规则 |
|------|------|
| 工作目录 | 会话隔离，不互访 |
| 知识库 | 全局共享，慎删改 |
| 下载 | 仅当前会话工作目录 |

### 6. 快速提示
1. 初次使用先少选工具再逐步扩展
2. Prompt 描述清晰：任务 + 可用工具 + 输出格式
3. 采用“检索 → 查看 → 总结”分步策略
4. 重要成果及时下载归档

### 7. 反馈
请附：时间、你的输入、系统主要回复、勾选工具、（若涉及）所调用子智能体名称、期望 vs 实际、截图（若有）。
联系方式：li.chuanhao@outlook.com